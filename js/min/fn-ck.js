!function(e){"use strict";e(".nav-mobile-trigger").on("click.toggleMobileNav",function(t){t.preventDefault(),e("body>.page").toggleClass("mobile-nav"),e(".nav-cover").toggleClass("hide"),e("nav.mobile").toggleClass("hide")}),e(".nav-cover").on("click.toggleMobileNavTrigger",function(){e(".nav-mobile-trigger").click()}),e(".login-mobile-trigger").on("click.toggleMobileLogin",function(t){t.preventDefault(),e("body>.page").toggleClass("mobile-login"),e(".login-cover").toggleClass("hide"),e(".login.mobile").toggleClass("hide")}),e(".login-cover").on("click.toggleMobileLoginTrigger",function(){e(".login-mobile-trigger").click()}),e("span.btn-file :file").on("change.customFilePicker",function(t){var i=e(this),n=i.val().replace(/.*(\/|\\)/,"");i.parent().find(".filename").text("("+n+")"),console.log(n)}),e("div.btn-file :file").on("change.customFilePicker",function(t){var i=e(this),n=i.val().replace(/.*(\/|\\)/,"");i.closest(".btn-file").find(".filename").text("("+n+")"),console.log(n)}),e("div.btn-file").on("click",".btn",function(t){e(this).closest(".btn-file").find("input").trigger("click")}),e('[data-ride="toggle-select"]').on("change.toggleSelectionForm",function(t){var i=e(this).find("option:selected").index(),n=e("#"+e(this).data("toggle")).children("select");n.each(function(t,n){i!=t?e(n).addClass("hide"):e(n).removeClass("hide")})}),e(".list-panle-nav a").on("shown.bs.tab",function(t){e(this).siblings(".active").removeClass("active"),e(this).addClass("active")}),e("#open-review").one("click.runAniamtion",function(t){e(".review").addClass("show")}),e("#open-review").on("click.openReveiwPage",function(t){t.preventDefault(),e(this).closest(".list-panle-content").addClass("open-review")}),e("#close-review").on("click.closeReveiwPage",function(t){t.preventDefault(),e(this).closest(".list-panle-content").removeClass("open-review")}),e(".checkall").on("change.toggleAll",function(t){var i=e(e(this).data("target"));i.find('[type="checkbox"]').prop("checked",this.checked)}),e(".add-row, .add-col").on("click",function(t){t.preventDefault();var i=e(this).hasClass("add-row")?"row":"col";switch(i){case"row":console.log("row");var n=e("#price-list tbody tr").last().clone();n.find("input").val("").attr("placeholder","点击输入"),e("#price-list tbody").append(n);break;case"col":console.log("col");var o=e("#price-list tbody tr td").last().clone(),a=e("#price-list thead tr:last th").last().clone();o.find("input").val("").attr("placeholder","点击输入"),a.find("input").val("").attr("placeholder","点击输入"),e("#price-list tbody tr").append(o),e("#price-list thead tr:last").append(a);break;default:alert("发生错误，请联系管理员")}}),e("#price-list input").on("keypress",function(t){var i=t.charCode||t.keyCode;13==i&&e(this).blur()}),e('[data-bind="word-per-page"]').on("numInput",function(){var t=e("[data-words]:checked").data("words"),i=e(this).val(),n=t*i;e(this).closest(".form-group").find(".word-count").text(n)}),e("[data-words]").on("change",function(){e('[data-bind="word-per-page"]').trigger("numInput")}),e('[data-bind="word-per-page"]').trigger("numInput"),e('[data-ride="new-item"]').on("click",function(){var t=e(".changeable-item.file .hide").clone();t.removeClass("hide"),e(".changeable-item.file").append(t)}),e(".exonerate :checkbox").on("change",function(){this.checked?e(this).closest("form").find('[type="submit"]').removeAttr("disabled"):e(this).closest("form").find('[type="submit"]').attr("disabled","disabled")});var t=function(e){var t=new Date,i=t.getTimezoneOffset()/60,n;n=0>i?-i:25-i,e.children().eq(n).prop("selected","selected")};e(".gmt-select").each(function(){new t(e(this))}).on("change",function(){i()});var i=function(){var t=e(".gmt-select").val();e(".show-draft-gmt").text(t)};i(),e(".review [data-trigger]").on("change",function(){console.log(e(this).data("trigger")),e(".comment .form-group").not(e(this)).addClass("hide"),e(e(this).data("trigger")).removeClass("hide")}),e(".writer a").popover({trigger:"hover",placement:"auto",html:!0,content:function(){return e(this).next(".writer-info").html()}}),e(".order-popover a").popover({trigger:"hover",placement:"auto",html:!0,content:function(){return e(this).next(".writer-info").html()}}),e(".search-help .btn").on("click",function(){var t=e('.search-help input[type="text"]').val();new n(t)}),e('.search-help input[type="text"]').on("keypress",function(t){var i=t.charCode||t.keyCode;13==i&&(e(this).blur(),e(".search-help .btn").trigger("click"))});var n=function(e){this.init(e)};n.prototype={init:function(t){this.keywords=t,this.$items=e(".tab-content .tab-pane"),this.$target=[],this.search_item(),this.render(),console.log(this.$target)},search_item:function(){this.$items.each(e.proxy(function(t,i){if(-1!=e(i).text().search(this.keywords)){var n=e(i).find("ol.breadcrumb li.active").text(),o=e(i).attr("id"),a=e('<div><a data-toggle="tab" href="#'+o+'">'+n+"</a></div>");this.$target.push(a)}},this))},render:function(){e("#search-help .panel-body").html(""),e.each(this.$target,function(){e("#search-help .panel-body").append(this)})}},e(".toggle-desktop-login").on("click",function(t){t.preventDefault(),e(".desktop.login").toggleClass("hide")}),e("form [data-required] :input").each(function(t,i){e(this).not("[required]").on("beginValid",function(){e(this).attr("required","required")}),e(this).on("stopValid",function(){e(this).removeAttr("required")})}).closest("form").on("submit",function(t){t.preventDefault();var i=e(this).find("[data-required]");i.each(function(t,i){e(this).find(":input").trigger("beginValid"),0==e(this).find(":invalid").size()&&e(this).trigger("submit")})}).on("reset",function(){e(this).find(":input").each(function(t,i){e(this).trigger("stopValid")})}).on("click",".btn-close",function(t){t.preventDefault(),e(this).closest("form").addClass("hide")}),e("[data-input-toggle] :radio").on("change",function(){e(this).data("trigger")?(e(this).closest("[data-input-toggle]").find(".trigger-area").find("input").not(e(e(this).data("trigger"))).addClass("hide").val(""),e(e(this).data("trigger")).removeClass("hide").val("")):e(this).closest("[data-input-toggle]").find(".trigger-area").find("input").addClass("hide").val("")}),e(".collapse").on("show.bs.collapse",function(){e(this).closest(".panel").addClass("active")}).on("hide.bs.collapse",function(){e(this).closest(".panel").removeClass("active")}),e("#upload-file .add-file").click(function(t){t.preventDefault();var i=e(this).closest("form").find(".changeable-items"),n=i.find(".item").last().clone();n.find("input").each(function(t,i){var n=e(i).data("name")+"["+(e(i).data("index")+1)+"]";e(this).attr("name",n).val("")}),i.append(n)})}(jQuery);